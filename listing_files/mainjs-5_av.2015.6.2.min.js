var ALL,hasClass,addClass,removeClass;ALL=ALL||{$:function(el){return document.getElementById(el)},$$:function(tag){return document.getElementsByTagName(tag)},$$$:function(tag,class_name){var trash=[],x=ALL.$$(tag),i,el;for(i=0;i<x.length;i++){el=x[i];if(ALL.dom.element.hasClass(el,class_name)){trash.push(el)}}return trash},namespace:function(name){var parts=name.split("."),part,current=ALL;for(part in parts){if(!current[parts[part]]){current[parts[part]]={}}current=current[parts[part]]}}};ALL.namespace("ajax");ALL.ajax={xhr:function(){var i,ids=["MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];if(window.XMLHttpRequest){return new XMLHttpRequest}else{for(i=0;i<ids.length;i++){try{return new ActiveXObject(ids[i])}catch(e){}}}},request:function(url,options){var xhr=ALL.ajax.xhr();xhr.onreadystatechange=function(myxhr){return function(){switch(myxhr.readyState){case 1:if(typeof options.onLoading==="function"){options.onLoading(myxhr)}break;case 2:if(typeof options.onLoaded==="function"){options.onLoaded(myxhr)}break;case 4:if(typeof options.onComplete==="function"){options.onComplete(myxhr)}if(myxhr.status===200){if(typeof options.onSuccess==="function"){options.onSuccess(myxhr)}}else{if(typeof options.onError==="function"){options.onError(myxhr)}}break;default:break}}}(xhr);xhr.open("GET",url,true);xhr.send("")}};ALL.namespace("dom");ALL.dom.element={hasClass:function(element,class_name){var tmp;if(typeof element==="string"){element=ALL.$(element)}if(element.className){tmp=element.className.indexOf(class_name)!==-1}else{tmp=false}return tmp},addClass:function(element,class_name){if(typeof element==="string"){element=ALL.$(element)}if(!ALL.dom.element.hasClass(element,class_name)){if(element.className){element.className=(element.className+" "+class_name).replace(/\s+/," ")}else{element.className=class_name}}},removeClass:function(element,class_name){if(typeof element==="string"){element=ALL.$(element)}element.className=element.className.replace(new RegExp("(^|\\s)"+class_name+"(?:\\s|$)"),"$1")}};hasClass=ALL.dom.element.hasClass;addClass=ALL.dom.element.addClass;removeClass=ALL.dom.element.removeClass;ALL.namespace("cookie");ALL.cookie={_createCookieString:function(name,value,encodeValue,options){var text=encodeURIComponent(name)+"="+(encodeValue?encodeURIComponent(value):value);if(typeof options==="object"){if(options.expires instanceof Date){text+="; expires="+options.expires.toGMTString()}if(typeof options.path==="string"&&options.path!==""){text+="; path="+options.path}if(typeof options.domain==="string"&&options.domain!==""){text+="; domain="+options.domain}if(options.secure===true){text+="; secure"}}return text},_parseCookieString:function(text,shouldDecode){var cookies={},decodeValue,cookieParts,i,len,cookieName=null,cookieValue=null,cookieNameValue=null;if(typeof text==="string"&&text.length>0){decodeValue=shouldDecode===false?function(s){return s}:decodeURIComponent;if(/[^=]+=[^=;]?(?:; [^=]+=[^=]?)?/.test(text)){cookieParts=text.split(/;\s/g);for(i=0,len=cookieParts.length;i<len;i++){cookieNameValue=cookieParts[i].match(/([^=]+)=/i);if(cookieNameValue instanceof Array){cookieName=decodeURIComponent(cookieNameValue[1]);cookieValue=decodeValue(cookieParts[i].substring(cookieNameValue[1].length+1))}else{cookieName=decodeURIComponent(cookieParts[i]);cookieValue=cookieName}cookies[cookieName]=cookieValue}}}return cookies},get:function(name,converter){var cookies=this._parseCookieString(document.cookie);if(typeof name!=="string"||name===""){throw"Cookie.get(): Cookie name must be a non-empty string."}if(typeof cookies[name]==="undefined"){return null}if(typeof converter!=="function"){return cookies[name]}else{return converter(cookies[name])}},set:function(name,value,options){if(typeof name!=="string"){throw"Cookie.set(): Cookie name must be a string."}if(typeof value==="undefined"){throw"Cookie.set(): Value cannot be undefined."}var text=this._createCookieString(name,value,true,options);document.cookie=text;return text}};ALL.namespace("event");ALL.event={domReady:function(fn){var observers,ie,webkit,src;if(ALL.event.domReady.loaded){return fn()}observers=ALL.event.domReady.observers;if(!observers){observers=ALL.event.domReady.observers=[]}observers[observers.length]=fn;if(ALL.event.domReady.callback){return}ALL.event.domReady.callback=function(){if(ALL.event.domReady.loaded){return}ALL.event.domReady.loaded=true;if(ALL.event.domReady.timer){clearInterval(ALL.event.domReady.timer);ALL.event.domReady.timer=null}var observers=ALL.event.domReady.observers,i,fn,length;for(i=0,length=observers.length;i<length;i++){fn=observers[i];observers[i]=null;fn()}ALL.event.domReady.callback=ALL.event.domReady.observers=null};ie=!!(window.attachEvent&&!window.opera);webkit=navigator.userAgent.indexOf("AppleWebKit/")>-1;if(document.readyState&&webkit){ALL.event.domReady.timer=setInterval(function(){var state=document.readyState;if(state==="loaded"||state==="complete"){ALL.event.domReady.callback()}},50)}else if(document.readyState&&ie){src=window.location.protocol==="https:"?"://0":"javascript:void(0)";document.write('<script type="text/javascript" defer="defer" src="'+src+'" '+"onreadystatechange=\"if (this.readyState == 'complete') ALL.event.domReady.callback();\""+"></script>")}else{if(window.addEventListener){document.addEventListener("DOMContentLoaded",ALL.event.domReady.callback,false);window.addEventListener("load",ALL.event.domReady.callback,false)}else if(window.attachEvent){window.attachEvent("onload",ALL.event.domReady.callback)}else{fn=window.onload;window.onload=function(){ALL.event.domReady.callback();if(fn){fn()}}}}}};ALL.namespace("utils");ALL.utils={canShowNewHelp:function(){var countryCode=jQuery("body").data("country-code"),newHelpCountries={1:"pomoc.allegro.pl",56:"napoveda.aukro.cz",93:"segitseg.vatera.hu",168:"help.molotok.ru",209:"help.aukro.ua"},countryCodesIndex=newHelpCountries[countryCode];if(countryCodesIndex){return countryCodesIndex}else{return false}},openHelp:function(item,stat){var newHelp=ALL.utils.canShowNewHelp(),regexp=/^c\d+$/,param="",tid=0,more_param="",helpwindow,config="height=400,width=450,toolbar=no,menubar=no,scrollbars=yes,resizable=yes,location=no,directories=no,status=no";if(!item){item=0;param="?mm=1"}if(stat){more_param="&statsec=300&statlnk=2"}if(regexp.test(item)){tid=item.substring(1,item.length)}if(newHelp){if(parseInt(item,10)!==0){window.open("http://"+newHelp+"/help_item/"+item,"_blank")}else{window.open("http://"+newHelp,"_blank")}}else{if(parseInt(item,10)===0&&parseInt(tid,10)===0){helpwindow=window.open("/help.php"+param+more_param,"anew",config)}else if(tid>0){helpwindow=window.open("/help.php?tid="+tid+more_param,"anew",config)}else{helpwindow=window.open("/help_item.php?item="+item+more_param,"anew",config)}if(!helpwindow.closed){helpwindow.focus()}}},hashMerge:function(h1,h2){for(var p in h2){if(typeof h2[p]==="object"&&h2[p].constructor===Object&&h1[p]){ALL.utils.hashMerge(h1[p],h2[p])}else{h1[p]=h2[p]}}},mod:function(a,b){return a-Math.floor(a/b)*b}};function OpenHelp(item,stat){ALL.utils.openHelp(item,stat)}